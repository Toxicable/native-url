!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("querystring")):"function"==typeof define&&define.amd?define(["exports","querystring"],t):t(e.nativeUrl={},e.querystring)}(this,function(e,t){t=t&&t.hasOwnProperty("default")?t.default:t;var r=/https?|ftp|gopher|file/;function o(e){"string"==typeof e&&(e=m(e));var o=function(e,t,r){var o=e.auth,a=e.hostname,s=e.protocol||"",n=e.pathname||"",c=e.hash||"",h=e.query||"",p=!1;o=o?encodeURIComponent(o).replace(/%3A/i,":")+"@":"",e.host?p=o+e.host:a&&(p=o+(~a.indexOf(":")?"["+a+"]":a),e.port&&(p+=":"+e.port)),h&&"object"==typeof h&&(h=t.encode(h));var l=e.search||h&&"?"+h||"";return s&&":"!==s.substr(-1)&&(s+=":"),e.slashes||(!s||r.test(s))&&!1!==p?(p="//"+(p||""),n&&"/"!==n[0]&&(n="/"+n)):p||(p=""),c&&"#"!==c[0]&&(c="#"+c),l&&"?"!==l[0]&&(l="?"+l),{protocol:s,host:p,pathname:n=n.replace(/[?#]/g,encodeURIComponent),search:l=l.replace("#","%23"),hash:c}}(e,t,r);return""+o.protocol+o.host+o.pathname+o.search+o.hash}var a="xyz://",s="w.w",n=a+s,c="http://"+s,h=/^https?|ftp|gopher|file/,p=/^(.+?)([#?].*)/,l=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,i=/^([a-z0-9.+-]*:)?\/\/\/*/i,u=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function f(e){try{return decodeURI(e)}catch(t){return e}}function m(e,r,a){void 0===r&&(r=!1),void 0===a&&(a=!1);var n=(e=f(e.trim())).match(p);e=n?n[1].replace(/\\/g,"/")+n[2]:e.replace(/\\/g,"/"),u.test(e)&&"/"!==e.slice(-1)&&(e+="/");var m=!/(^javascript)/.test(e)&&e.match(l),d=i.test(e),v="";m&&(h.test(m[1])||(v=m[1].toLowerCase(),e=""+m[2]+m[3]),m[2]||(d=!1,h.test(m[1])?(v=m[1],e=""+m[3]):e="//"+m[3]),3!==m[2].length&&1!==m[2].length||(v=m[1],e="/"+m[3]));var g,y=e.match(/(:[0-9]+)/),b="";y&&y[1]&&3===y[1].length&&(e=e.replace(b=y[1],b+"00"));var w={},U="",R="";try{g=new URL(e)}catch(t){U=t,v||a||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(R="/",e=e.substr(1));try{g=new URL(e,c)}catch(e){return w.protocol=v,w.href=v,w}}w.slashes=d&&!R,w.host=g.host.includes(s)?"":g.host,w.hostname=g.hostname.includes(s)?"":g.hostname.replace(/(\[|\])/g,""),w.protocol=U?v||null:g.protocol,w.search=g.search.replace(/\\/g,"%5C"),w.hash=g.hash.replace(/\\/g,"%5C");var j=e.split("#");!w.search&&j[0].includes("?")&&(w.search="?"),w.hash||""!==j[1]||(w.hash="#"),w.query=r?t.decode(g.search.substr(1)):w.search.substr(1),w.pathname=R+f(g.pathname).replace(/"/g,"%22"),"about:"===w.protocol&&"blank"===w.pathname&&(w.protocol="",w.pathname=""),U&&"/"!==e[0]&&(w.pathname=w.pathname.substr(1)),v&&!h.test(v)&&"/"!==e.slice(-1)&&"/"===w.pathname&&(w.pathname=""),w.path=w.pathname+w.search,w.auth=[g.username,g.password].map(decodeURIComponent).filter(Boolean).join(":"),w.port=g.port,b&&(w.host=w.host.replace(b+"00",b),w.port=w.port.slice(0,-2)),w.href=R?""+w.pathname+w.search+w.hash:o(w);var q=/^(file)/.test(w.href)?["host","hostname"]:[];return Object.keys(w).forEach(function(e){q.includes(e)||(w[e]=w[e]||null)}),w}var d=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,v=/https?|ftp|gopher|file/;function g(e,t){var r="string"==typeof e?m(e):e;e="object"==typeof e?o(e):e;var c=m(t),h="";r.protocol&&!r.slashes&&(h=r.protocol,e=e.replace(r.protocol,""),h+="/"===t[0]||"/"===e[0]?"/":""),h&&c.protocol&&(h="",c.slashes||(h=c.protocol,t=t.replace(c.protocol,"")));var p=e.match(d);p&&!c.protocol&&(e=e.substr((h=p[1]+(p[2]||"")).length),/^\/\/[^/]/.test(t)&&(h=h.slice(0,-1)));var l=new URL(e,n+"/"),i=new URL(t,l).toString().replace(a,"").replace(s,"");return v.test(i)||t.includes(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==i.slice(-1)||(i=i.slice(0,-1)),h&&(i=h+("/"===i[0]?i.substr(1):i)),i}e.parse=m,e.format=o,e.resolve=g,e.resolveObject=function(e,t){return m(g(e,t))}});
//# sourceMappingURL=index.umd.js.map
